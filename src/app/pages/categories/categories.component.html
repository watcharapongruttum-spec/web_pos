<div class="page">
  <div class="page-header">
    <h2>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
    <button class="add-btn" (click)="openAdd()">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
  </div>

  <p *ngIf="loading">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
  <p class="error" *ngIf="error">{{ error }}</p>

  <div class="table-card" *ngIf="!loading && categories.length > 0">
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
          <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let cat of categories; index as i">
          <td>{{ i + 1 }}</td>
          <td>{{ cat.name }}</td>
          <td>
            <button class="edit-btn" (click)="openEdit(cat)">‚úèÔ∏è</button>
            <button class="delete-btn" (click)="confirmDelete(cat.id)">üóëÔ∏è</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Modal Add/Edit -->
  <div class="modal" *ngIf="showForm">
    <div class="modal-card">
      <h3>{{ isEdit ? '‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤' : '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤' }}</h3>
      <input placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó" [(ngModel)]="form.name" autofocus>
      <div class="actions">
        <button class="save-btn" (click)="save()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        <button class="cancel-btn" (click)="closeForm()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
      </div>
    </div>
  </div>

  <!-- Confirm Delete -->
  <div class="modal" *ngIf="showConfirm">
    <div class="modal-card confirm">
      <h3>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö</h3>
      <p>‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</p>
      <div class="actions">
        <button class="cancel-btn" (click)="cancelDelete()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button class="delete-btn" (click)="deleteCategory()">‡∏•‡∏ö</button>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div class="toast" *ngIf="toast.show" [ngClass]="toast.type">
    {{ toast.message }}
  </div>
</div>




<!-- Modal Add/Edit -->
<div class="modal" *ngIf="showForm">
  <div class="modal-card">
    <h3>{{ isEdit ? '‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤' : '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤' }}</h3>

    <div class="form-group">
      <label>‡∏ä‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</label>
      <input
        type="text"
        [(ngModel)]="form.name"
        autofocus
      />
    </div>

    <div class="actions">
      <button class="save-btn" (click)="save()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      <button class="cancel-btn" (click)="closeForm()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    </div>
  </div>
</div>